(function(e){function t(t){for(var i,r,c=t[0],n=t[1],a=t[2],u=0,p=[];u<c.length;u++)r=c[u],o[r]&&p.push(o[r][0]),o[r]=0;for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);h&&h(t);while(p.length)p.shift()();return s.push.apply(s,a||[]),l()}function l(){for(var e,t=0;t<s.length;t++){for(var l=s[t],i=!0,c=1;c<l.length;c++){var n=l[c];0!==o[n]&&(i=!1)}i&&(s.splice(t--,1),e=r(r.s=l[0]))}return e}var i={},o={app:0},s=[];function r(t){if(i[t])return i[t].exports;var l=i[t]={i:t,l:!1,exports:{}};return e[t].call(l.exports,l,l.exports,r),l.l=!0,l.exports}r.m=e,r.c=i,r.d=function(e,t,l){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(r.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(l,i,function(t){return e[t]}.bind(null,i));return l},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],n=c.push.bind(c);c.push=t,c=c.slice();for(var a=0;a<c.length;a++)t(c[a]);var h=n;s.push([0,"chunk-vendors"]),l()})({0:function(e,t,l){e.exports=l("56d7")},"034f":function(e,t,l){"use strict";var i=l("64a9"),o=l.n(i);o.a},"1d9d":function(e,t,l){},"56d7":function(e,t,l){"use strict";l.r(t);l("cadf"),l("551c"),l("f751"),l("097d");var i=l("2b0e"),o=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{attrs:{id:"app"}},[l("Chess")],1)},s=[],r=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("div",{staticClass:"chessboard"},e._l(e.cells,function(t,i){return l("div",{key:i},e._l(t,function(t,o){return l("div",{key:o,class:e.getCellClass(t,i,o),attrs:{id:"cell-"+i+"-"+o},on:{click:function(t){return e.selectCell(i,o)}}},[t.piece?l("span",{staticClass:"piece",attrs:{unselectable:"on"},domProps:{innerHTML:e._s(e.pieceCodes[t.piece.color][t.piece.type])}}):e._e()])}),0)}),0)])},c=[],n=(l("28a5"),l("ac4d"),l("8a81"),l("ac6a"),l("ef09")),a={name:"Chess",props:{},data:function(){return{selectedCell:null,legalMoves:[],cells:[],capturedWhitePieces:[],capturedBlackPieces:[],pieceCodes:{white:{king:"&#9812;",queen:"&#9813;",rook:"&#9814;",bishop:"&#9815;",knight:"&#9816;",pawn:"&#9817;"},black:{king:"&#9818;",queen:"&#9819;",rook:"&#9820;",bishop:"&#9821;",knight:"&#9822;",pawn:"&#9823;"}}}},created:function(){this.createEmptyBoard(),this.placeInitialPieces()},methods:{capturePiece:function(e){"black"==e.color?this.capturedBlackPieces.push(e):this.capturedWhitePieces.push(e),e.type},movePiece:function(e,t){var l=this.cells[e.row][e.col].piece;l.hasMoved=!0;var i=this.cells[t.row][t.col].piece;l.color;i&&this.capturePiece(i),this.cells[t.row][t.col].piece=l,this.cells[e.row][e.col].piece=null},getCellClass:function(e,t,l){var i=[];return i.push(e.color),this.selectedCell&&this.selectedCell.row==t&&this.selectedCell.col==l&&i.push("selected"),this.cells[t][l].legalMove&&i.push("legal-move"),i},selectCell:function(e,t){if(this.selectedCell){if(e==this.selectedCell.row&&t==this.selectedCell.col){if(this.selectedCell=null,this.legalMoves&&this.legalMoves.length>0){var l=!0,i=!1,o=void 0;try{for(var s,r=this.legalMoves[Symbol.iterator]();!(l=(s=r.next()).done);l=!0){var c=s.value;this.cells[c.row][c.col].legalMove=!1}}catch(d){i=!0,o=d}finally{try{l||null==r.return||r.return()}finally{if(i)throw o}}}return}this.legalMoves&&this.legalMoves.some(function(l){return l.row===e&&l.col===t})&&(this.movePiece(this.selectedCell,{row:e,col:t}),this.selectCell(this.selectedCell.row,this.selectedCell.col))}else{var n=this.cells[e][t].piece;if(n&&"white"===n.color&&(this.selectedCell={row:e,col:t},this.legalMoves=this.getLegalMovesForPiece(n.type,n.color,e,t,n.hasMoved),this.legalMoves&&this.legalMoves.length>0)){var a=!0,h=!1,u=void 0;try{for(var p,v=this.legalMoves[Symbol.iterator]();!(a=(p=v.next()).done);a=!0){var f=p.value;this.cells[f.row][f.col].legalMove=!0}}catch(d){h=!0,u=d}finally{try{a||null==v.return||v.return()}finally{if(h)throw u}}}}},createEmptyBoard:function(){for(var e=0;e<8;e++){this.cells.push([]);for(var t=0;t<8;t++)this.cells[e][t]={color:(e+t)%2==0?"white":"black",piece:null,legalMove:!1}}},placeInitialPieces:function(){for(var e=0;e<n.length;e++)for(var t=0;t<n[e].length;t++){var l=n[e][t].split("-");this.cells[e][t].piece={color:l[0],type:l[1],isThreatened:!1,hasMoved:!1}}},getPawnMoves:function(e,t,l,i){var o=[];if("white"===e){if(!1!==i||this.cells[t-1][l].piece||o.push({row:t-2,col:l}),t>0&&null===this.cells[t-1][l].piece&&o.push({row:t-1,col:l}),t>0&&l>0){var s=this.cells[t-1][l-1].piece;s&&s.color!=e&&o.push({row:t-1,col:l-1})}if(t>0&&l<this.cells.length-1){var r=this.cells[t-1][l+1].piece;r&&r.color!=e&&o.push({row:t-1,col:l+1})}}else!1!==i||this.cells[t+1][l].piece||o.push({row:t+2,col:l}),t<this.cells.length-1&&null===this.cells[t+1][l].piece&&o.push({row:t+1,col:l}),t<this.cells.length-1&&l<this.cells.length-1&&this.validateMove(e,t+1,l+1)&&o.push({row:t+1,col:l+1}),t<this.cells.length-1&&l>0&&this.validateMove(e,t+1,l-1)&&o.push({row:t+1,col:l-1});return o},getRookMoves:function(e,t,l){for(var i=[],o=t-1;o>=0;o--){if(!this.validateMove(e,o,l))break;if(i.push({row:o,col:l}),(this.cells[o][l]||{}).piece)break}for(var s=t+1;t<this.cells.length;s++){if(!this.validateMove(e,s,l))break;if(i.push({row:s,col:l}),(this.cells[s][l]||{}).piece)break}for(var r=l-1;r>=0;r--){if(!this.validateMove(e,t,r))break;if(i.push({row:t,col:r}),(this.cells[t][r]||{}).piece)break}for(var c=l+1;t<this.cells.length;c++){if(!this.validateMove(e,t,c))break;if(i.push({row:t,col:c}),(this.cells[t][c]||{}).piece)break}return i},getKnightMoves:function(e,t,l){for(var i=[],o=[[-2,1],[-2,-1],[2,1],[2,-1],[-1,-2],[-1,2],[1,-2],[1,2],[1,-2],[1,2]],s=0,r=o;s<r.length;s++){var c=r[s],n=t+c[0],a=l+c[1];this.validateMove(e,n,a)&&i.push({row:n,col:a})}return i},getBishopMoves:function(e,t,l){for(var i=[],o=1;o<this.cells.length;o++){if(!this.validateMove(e,t+o,l+o))break;if(i.push({row:t+o,col:l+o}),(this.cells[t+o][l+o]||{}).piece)break}for(var s=1;s<this.cells.length;s++){if(!this.validateMove(e,t+s,l-s))break;if(i.push({row:t+s,col:l-s}),(this.cells[t+s][l-s]||{}).piece)break}for(var r=1;r<this.cells.length;r++){if(!this.validateMove(e,t-r,l+r))break;if(i.push({row:t-r,col:l+r}),(this.cells[t-r][l+r]||{}).piece)break}for(var c=1;c<this.cells.length;c++){if(!this.validateMove(e,t-c,l-c))break;if(i.push({row:t-c,col:l-c}),(this.cells[t-c][l-c]||{}).piece)break}return i},getQueenMoves:function(e,t,l){return this.getRookMoves(e,t,l).concat(this.getBishopMoves(e,t,l))},getKingMoves:function(e,t,l){for(var i=[],o=[[0,1],[0,-1],[1,0],[1,1],[1,-1],[-1,0],[-1,1],[-1,-1]],s=0,r=o;s<r.length;s++){var c=r[s],n=t+c[0],a=l+c[1];this.validateMove(e,n,a)&&i.push({row:n,col:a})}return i},validateMove:function(e,t,l){if(t>=this.cells.length||l>=this.cells.length||t<0||l<0)return!1;var i=this.cells[t][l].piece;return null==i||i.color!==e},getLegalMovesForPiece:function(e,t,l,i,o){var s=[];switch(e){case"pawn":s=this.getPawnMoves(t,l,i,o);break;case"rook":s=this.getRookMoves(t,l,i);break;case"knight":s=this.getKnightMoves(t,l,i);break;case"bishop":s=this.getBishopMoves(t,l,i);break;case"queen":s=this.getQueenMoves(t,l,i);break;case"king":s=this.getKingMoves(t,l,i);break}return s}}},h=a,u=(l("ab30"),l("2877")),p=Object(u["a"])(h,r,c,!1,null,"f1188b96",null),v=p.exports,f={name:"app",components:{Chess:v}},d=f,w=(l("034f"),Object(u["a"])(d,o,s,!1,null,null,null)),g=w.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(e){return e(g)}}).$mount("#app")},"64a9":function(e,t,l){},ab30:function(e,t,l){"use strict";var i=l("1d9d"),o=l.n(i);o.a},ef09:function(e){e.exports=[["black-rook","black-knight","black-bishop","black-queen","black-king","black-bishop","black-knight","black-rook"],["black-pawn","black-pawn","black-pawn","black-pawn","black-pawn","black-pawn","black-pawn","black-pawn"],[],[],[],[],["white-pawn","white-pawn","white-pawn","white-pawn","white-pawn","white-pawn","white-pawn","white-pawn"],["white-rook","white-knight","white-bishop","white-queen","white-king","white-bishop","white-knight","white-rook"]]}});
//# sourceMappingURL=app.ab9a2e98.js.map